Smooth and friendly use of gRPC, Better gRPC 
===

[Quick Starts](https://github.com/jackstaff/grpc/blob/master/START.md) / [Advance Usage](https://github.com/jackstaff/grpc/blob/master/ADVANCE.md) / [Smooth and friendly use of gRPC](https://github.com/jackstaff/grpc/blob/master/V2.md) / [Origin](https://github.com/jackstaff/grpc/blob/master/ORIGIN.md)

1. Define protobuffers file.
>    ref: https://github.com/grpc/grpc-java  
>    ref: https://github.com/jackstaff/grpc/blob/master/v2/src/main/proto/route_guide.proto

2. Generated Code.
>    ref: https://github.com/jackstaff/grpc/blob/master/v2/pom.xml  
>    Generator Jackstaff style Protocol interface and POJO java bean when "option java_multiple_files = false" and "option java_outer_classname" end with "Proto" in .proto;  
>    (you can set compilerArgument with "-AJackstaffProto=${Proto}" at maven-compiler-plugin.configuration)
```xml
<!-- jackstaff grpc generator code when compile -->
<dependencies>
  <dependency>
      <groupId>org.jackstaff.grpc</groupId>
      <artifactId>grpc-generator</artifactId>
      <version>2.0.7</version>
      <scope>provided</scope>
  </dependency>
</dependencies>

<build>
  <extensions>
    <extension>
      <groupId>kr.motd.maven</groupId>
      <artifactId>os-maven-plugin</artifactId>
      <version>1.6.2</version>
    </extension>
  </extensions>
  <plugins>
    <plugin>
      <groupId>org.xolstice.maven.plugins</groupId>
      <artifactId>protobuf-maven-plugin</artifactId>
      <version>0.6.1</version>
      <configuration>
        <protocArtifact>com.google.protobuf:protoc:3.11.0:exe:${os.detected.classifier}</protocArtifact>
        <pluginId>grpc-java</pluginId>
        <pluginArtifact>io.grpc:protoc-gen-grpc-java:1.29.0:exe:${os.detected.classifier}</pluginArtifact>
      </configuration>
      <executions>
        <execution>
          <goals>
            <goal>compile</goal>
            <goal>compile-custom</goal>
          </goals>
        </execution>
      </executions>
    </plugin>
  </plugins>
</build>

```
3. Auto generate source code from .proto
```java
//jackstaff style interface
/**
 * Generated by org.jackstaff.grpc.generator.ProtocolProcessor;  DO NOT EDIT!
 */
@Protocol
public interface RouteGuide {
    String SERVICE_NAME = RegistryMapping.addProtocol(RouteGuide.class, RouteGuideGrpc.getServiceDescriptor());

    @RpcMethod(methodType = MethodType.UNARY)
    Feature getFeature(Point point);

    @RpcMethod(methodType = MethodType.ASYNCHRONOUS_UNARY)
    default void getFeature(Point point, Consumer<Feature> featureResult) {
        throw new RuntimeException("Do NOT implement it.");
    }

    @RpcMethod(methodType = MethodType.SERVER_STREAMING)
    void listFeatures(Rectangle rectangle, Consumer<Feature> featureStream);

    @RpcMethod(methodType = MethodType.BLOCKING_SERVER_STREAMING)
    default List<Feature> listFeatures(Rectangle rectangle) {
        throw new RuntimeException("Do NOT implement it.");
    }

    @RpcMethod(methodType = MethodType.CLIENT_STREAMING)
    Consumer<Point> recordRoute(Consumer<RouteSummary> routeSummaryResult);

    @RpcMethod(methodType = MethodType.BIDI_STREAMING)
    Consumer<RouteNote> routeChat(Consumer<RouteNote> routeNoteStream);
}

//pure java bean
/**
 * Generated by org.jackstaff.grpc.generator.ProtocolProcessor;  DO NOT EDIT!
 */
public class Point {
    private int latitude;

    private int longitude;

    public Point() {
    }

    public Point(int latitude, int longitude) {
        this.latitude = latitude;
        this.longitude = longitude;
    }

    public int getLatitude() {
        return this.latitude;
    }

    public void setLatitude(int latitude) {
        this.latitude = latitude;
    }

    public int getLongitude() {
        return this.longitude;
    }

    public void setLongitude(int longitude) {
        this.longitude = longitude;
    }
}

/**
 * Generated by org.jackstaff.grpc.generator.ProtocolProcessor;  DO NOT EDIT!
 */
public class Feature {
    private String name;

    private Point location;

    public Feature() {
    }

    public Feature(String name, Point location) {
        this.name = name;
        this.location = location;
    }

    public boolean hasName() {
        return this.name != null && this.name.length()>0;
    }

    public String getName() {
        return this.name != null ? this.name : "";
    }

    public void setName(String name) {
        this.name = name;
    }

    public boolean hasLocation() {
        return this.location != null;
    }

    public Point getLocation() {
        return this.location;
    }

    public void setLocation(Point location) {
        this.location = location;
    }
}

//and others

```
4. you can implements your business logic base on these, ref [Quick Starts](https://github.com/jackstaff/grpc/blob/master/START.md)  and [Advance Usage](https://github.com/jackstaff/grpc/blob/master/ADVANCE.md)

5. enjoy it.
